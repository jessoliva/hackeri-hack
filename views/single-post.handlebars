<!-- main -->
<main class="overflow">
    <section class="view">
        <article class="view-post">
        <div class="d-flex flex-wrap align-items-center justify-content-center">
            <h2 class="w-100 text-center">{{post.title}}</h2>
            <p>posted by {{post.user.username}} on {{post.createdAt}}</p>
        </div>
        <p class="content">
            {{post.content}}  
        </p>
        </article>
    </section>

    <section class="row">
        {{#if loggedIn}}
        <form class="comment-form col-6">
            <div class="d-flex justify-content-center">
                <textarea class="comment-input" id="comment-input" type="text"></textarea>
            </div>
            <div class="d-flex justify-content-center">
                <button class="btn-login  btn rounded-pill shadow" id="comment-btn" type="click">add comment</button>
            </div>
        </form>
        {{/if}}

        <div class="comments col-6" id="comments">
            {{#each post.comments}}
            <section class="comment d-flex flex-wrap justify-content-end">
                <div class="comment-text d-flex justify-content-end w-100">
                    {{comment_text}}
                </div>
                <div class="meta">
                    {{user.username}} on {{created_at}}
                    {{#if can_delete}}
                    <button class="delete-comment-btn" id="{{id}}" data-commentid="{{id}}"><i class="fa-solid fa-xmark"></i></button>
                    {{/if}}
                </div>
            </section>
            {{/each}}
        </div>
    </section>
</main>
<!-- main end -->

{{#if loggedIn}}
<script src="/javascript/add-comment.js"></script>
<script src="/javascript/delete-comment.js"></script>
{{/if}}